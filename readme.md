# 测试文档

[TOC]

## 功能测试/性能测试/安全性测试/用户体验测试

### 登录模块

#### 测试内容与结果

##### 注册登录测试
测试：输入手机号和正确的验证码。
现象：若手机号已经注册，则登陆成功；若手机号未注册，则注册并登录成功。
结果：测试成功。

##### 登录验证测试1
测试：输入错误的手机号：①包含字母、符号的11位字符串；②随机的11位数字串。
现象：若含字母、符号，则手机号一栏无法输入；若输入11位数字但开头不是数字1，则提示“请填写合法的手机号与验证码”。
结果：测试成功。

##### 登录验证测试2
测试：输入正确的手机号，不获取验证码而直接填写。
现象：提示“请获取验证码”。
结果：测试成功。

##### 登录验证测试3
测试：输入正确的手机号，输入已使用但未过期的验证码（验证码在5分钟有效期内，但是已经被使用过）。
现象：提示“验证码错误”。
结果：测试成功。

##### 登录验证测试4
测试：输入正确的手机号，输入未使用未过期但非本次的验证码。
现象：提示“验证码错误”。
结果：测试成功。

##### 多设备登录测试
测试：同时在两个设备登录同一账户。
现象：两个设备均能同时操作该账户。
结果：建议设计多设备登录限制，或添加登陆设备记忆功能，在满足用户多设备登录需求的同时，保证用户账号的安全性。

##### 注销登录测试
测试：登陆成功后点击“退出登录”。
现象：成功退出登录。
结果：测试成功。

##### 登录过期测试
测试：登录后保持无操作无刷新状态30分钟后进行发布或查询操作。
现象：前端保持登录状态，但查询不到任何拼车信息、无法发布拼车单、无法修改信息，报错“Minified React error \#321”；后端报错“please login first”。
结果：测试成功，保证了用户账号安全性。建议前端显示与后端同步。

##### 登录验证性能测试
测试：使用jmeter测试接口。
现象：QPS可达到2000。
结果：该网站能够支持一定数量的多用户并发。


#### 结论

登录模块功能正常，能够正常满足用户需求，且具备一定的安全性与可拓展性。建议完善过期登录前端提示。

### 用户模块

#### 测试内容与结果

##### 用户信息查看测试
测试：进入用户信息界面，查看用户信息。
现象：显示正确的最新用户信息。
结果：测试成功。

##### 用户信息更新测试1
测试：进入“编辑个人信息”模块，填写个人信息并保存。
现象：个人信息被成功修改且内容一致。
结果：测试成功。

##### 用户信息更新测试2
测试：进入“编辑个人信息”模块，填写错误的“性别”和“学院”。
现象：个人信息被成功修改且内容一致。
结果：建议在“性别”和“学院”栏目设置选择机制，或进行人工审核，以确保用户信息真实性。

##### 用户信息更新测试3
测试：进入“编辑个人信息”模块，填写超长字符串。
现象：若昵称或学院名称长度超过100或性别长度超过10，提示报错“Minified React error \#321”，无法修改，数据库无故障。
结果：功能正常，建议添加报错提示，诸如“昵称长度不能大于100”。

##### 用户信息更新测试4
测试：进入“编辑个人信息”模块，不填写任何信息并保存退出。
现象：个人信息留空成功。
结果：测试成功。

##### 用户发布查看测试
测试：查看“我发布的拼车”。
现象：正确显示用户发布过的所有拼车信息。
结果：测试成功。

##### 用户发布跳转测试
测试：查看“我发布的拼车”，在未发布过拼车的状态下点击“现在去发布”。
现象：成功跳转到发布界面。
结果：测试成功。


#### 结论

用户模块功能正常，能够正常满足用户需求。建议完善选择栏与报错提示。

### 发布模块

#### 测试内容与结果

##### 拼车单状态更新测试-发布测试
测试：在“发布”界面填写正确的拼车信息后发布。
现象：拼车信息发布成功，按照时间排序显示在首页上，后端更新状态为“进行中”。
结果：测试成功。

##### 拼车单字符串测试
测试：在“发布”界面填写超长字符串。
现象：若出发地或目的地长度超过100，提示报错“Minified React error \#321”，无法发布，数据库无故障。
结果：测试成功。

##### 拼车单时间验证测试1
测试：在“发布”界面填写早于当前时间的触发时间。
现象：拼车信息发布失败，提示“出发时间不能早于当前时间”。
结果：测试成功。

##### 拼车单时间验证测试2
测试：发布时间在2725年的拼车单。
现象：发布成功，且由于首页按照拼车时间排序，此拼车单长期显示在首页最前方。
结果：建议限制拼车发布时间。

##### 拼车单内容过滤测试
测试：发布出发地和目的地无意义的拼车单，出发地为“一二三四五六七八九十”，目的地为“一二三四五六七八九十”。
现象：发布成功。
结果：建议对拼车单的出发地和目的地进行部分限制、增加地图接口，或增加灌水检查功能。

##### 拼车单状态更新测试-过期测试
测试：在“发布”界面填写正确的拼车信息后发布，等待拼车时间过期后查看。
现象：拼车单过期后，该拼车信息从首页撤下，后端更新状态为“已过期”。
结果：测试成功。

##### 拼车单状态更新测试-完成测试
测试：用户在拼车单过期前点击“完成拼车单”。
现象：用户界面显示拼车已完成，该拼车信息从首页撤下，后端更新状态为“已完成”。
结果：测试成功。

##### 拼车单状态更新测试-删除测试
测试：删除拼车单。
现象：删除成功，该拼车信息从首页撤下，后端更新状态为“已删除”。
结果：测试成功。


#### 结论

发布模块功能正常，能够正常满足用户需求，建议对拼车发布的信息范围进行进一步限制，避免无意义拼车单和灌水。


### 搜索模块

#### 测试内容与结果

##### 条件搜索测试
测试：在搜索界面输入“出发地”或“目的地”或“‘出发地’与‘目的地’”的任意字符串。
现象：网页均能进行实时搜索与匹配。
结果：能够根据出发地、终点、时间筛选拼车单，测试成功。

##### 聚合搜索测试
测试：在搜索界面输入“出发地”或“目的地”或“‘出发地’与‘目的地’”的任意字符串。
现象：网页实时显示搜索结果的正确条数。
结果：能够统计搜索结果数量，测试成功。

##### 分页搜索测试
测试：在搜索界面输入“出发地”或“目的地”或“‘出发地’与‘目的地’”的任意字符串，保证搜索结果数大于5。
现象：网页实时分页显示搜索结果。
结果：能够进行搜索结果分页以改善用户体验，测试成功。

##### 模糊搜索测试1
测试：在搜索界面输入“出发地”“目的地”的完整字符串。
现象：网页进行实时搜索与匹配。
结果：测试成功。

##### 模糊搜索测试2
测试：在搜索界面输入“出发地”或“目的地”的部分字符串，现已有“东十三舍”拼车单，在搜索界面搜索“十三”；现已有“武汉轻工大学”拼车单，搜索“大学”。
现象：网页进行实时模糊搜索与匹配，搜索“东十三舍”成功，搜索“大学”将显示所有拼车单。
结果：模糊搜索功能支持部分关键字搜索，能够满足基本需求。搜索“大学”将显示所有拼车单的原因是，在目前的模糊匹配算法中，“大学”二字将在标准化的过程中被删去，等效于搜索词为空，结果即全部拼车单，模糊搜索功能可进一步完善。

##### 模糊搜索测试3
测试：发布出发地为“沁苑学生公寓紫菘学生公寓韵苑学生公寓东九东十东十一东十二东十三东一东三食堂百景园集锦园南一楼南六楼西十二楼东九楼东十三舍东九舍东十一舍南大门南二门南三门南四门西校门生活区门东校区门国光东五南一”，目的地为“武汉站汉口站武昌站汉阳站武汉天河站天河机场街道口广埠屯江汉路同济医学院武汉大学华中师范大学中南财经政法大学武汉理工大学华中农业大学中国地质大学汉口江滩武昌江滩司门口昙华林黄鹤楼”的拼车单，之后进行模糊查询。
现象：查询其中的一个或几个目的地，均能查到此灌水贴。
结果：建议缩短可输入最长字符串长度，或增加人工审核功能，防止用户发布垃圾帖，干扰网站正常功能。

##### 模糊搜索测试4
测试：在已有“光谷广场”的拼车单下，使用英文搜索“Optics Valley Square”。
现象：无法查询到拼车单。
结果：建议增加出发地和目的地翻译功能。

#### 结论
发布模块功能正常，能够正常满足中文用户需求。建议增加不同语言的支持与翻译功能，扩大用户覆盖面；建议进一步完善模糊搜索功能，提高搜索结果的匹配度；建议增强网站发布限制，防止用户发布垃圾帖。

### 结论

各模块功能均正常，能够满足一般用户的正常需求。
登录模块：建议完善过期登录前端提示。
用户模块：建议完善选择栏与报错提示。
发布模块：建议对拼车发布的信息范围进行进一步限制，避免无意义拼车单和灌水。
搜索模块：建议增加不同语言的支持与翻译功能，扩大用户覆盖面；建议进一步完善模糊搜索功能，提高搜索结果的匹配度；建议增强网站发布限制，防止用户发布垃圾帖。
